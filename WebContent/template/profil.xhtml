<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<style type="text/css">
.infos {
	background: white;
	font-family: "Source Sans Pro", "Trebuchet MS", "Helvetica Neue",
		Helvetica, Arial, sans-serif;
	border: 15px;
}

.names {
	font-size: 30px !important;
}

.ui-g-6 {
	font-size: 20px;
}

.mail {
	margin-left: auto;
}

.desc {
	font-size: 20px;
	padding-left: 10px;
	padding-right: 10px;
	padding-bottom: 20px;
}

.title {
	text-align: center !important;
	font-size: 30px;
}
</style>

<h:form id="personInformations">
	<c:set var="person" value="#{personView.person}" />

	<div class="infos">
		<div class="ui-g">
			<div class="ui-g-6 names">

				<h:outputText value="#{person.name} #{person.firstName}" />

			</div>
			<div style="margin-top: 5px; margin-left: auto; margin-right: 5px;">
				<p:commandButton icon="fa fa-edit"
					onclick="PF('personDialog').show();">
					<f:setPropertyActionListener value="#{person}"
						target="#{personView.person}" />
				</p:commandButton>


				<p:commandButton icon="fa fa-trash-o"
					onclick="PF('confirmDeleteDialog').show();">
				</p:commandButton>
				<p:commandButton ajax="false" icon="fa fa-sign-out"
					action="#{personView.logout()}">
					<f:param name="i" value="3" />
				</p:commandButton>
			</div>

		</div>
		<div class="ui-g">
			<div class="ui-g-6 ">
				<h:outputText value="#{person.birthDay}">
					<f:convertDateTime pattern="dd.MM.yyyy" />
				</h:outputText>
			</div>
			<div class="ui-g-6" style="margin-left: auto;">
				<h:outputText value="Email: #{person.email}" style="float:right;" />
			</div>
		</div>
		<div class="ui-g">
			<div class="ui-g-6 ">
				<h:outputText rendered="#{not empty person.status}">
					<h:outputText value="Status: #{person.status}" />
				</h:outputText>
			</div>
			<div class="ui-g-6 ">
				<h:outputText rendered="#{not empty person.webSite}">
					<h:outputText value="Website: #{person.webSite}"
						style="float:right;" />
				</h:outputText>
			</div>
		</div>
		<hr />
		<div class=" ui-g desc">
			<h:outputText rendered="#{not empty person.description}">
				<div class="ui-g-12 title">Description</div>
				<br />
				<h:outputText value=" #{person.description}" />
			</h:outputText>
		</div>
	</div>


</h:form>




<p:dialog header="Edit profil" widgetVar="personDialog" modal="true"
	resizable="false" responsive="true" draggable="false">
	<c:set var="personUpdate" value="#{personView.person}" />
	<h:form>

		<label for="inputName">Name</label>
		<p:inputText type="text" value="#{personUpdate.name}"
			class="form-control" id="inputName" placeholder="Name"
			required="true" requiredMessage="Name required" />

		<label for="inputFirstname">Firstname</label>
		<p:inputText type="text" value="#{personUpdate.firstName}"
			class="form-control" id="inputFirstname" placeholder="Firstname"
			required="true" requiredMessage="Firstname required" />

		<label for="inputEmail">Email</label>
		<p:inputText type="email" value="#{personUpdate.email}"
			class="form-control" id="inputEmail" placeholder="Email"
			required="true" requiredMessage="Email required" />

		<label for="inputPassword">Password</label>
		<p:inputText type="password" value="#{personUpdate.password}"
			class="form-control" id="inputPassword" placeholder="Password"
			required="true" requiredMessage="Password required" />


		<label for="inputBirthday">Birthday</label>
		<p:calendar pattern="dd/MM/yyyy" id="inputBirthday"
			value="#{personUpdate.birthDay}" navigator="true" yearRange="c-120:c"
			maxdate="today" required="true" requiredMessage="Birthday required" />


		<label for="inputStatus">Status</label>
		<p:inputText type="text" value="#{personUpdate.status}"
			class="form-control" id="inputStatus" placeholder="Status" />


		<label for="inputDescription">About You</label>
		<p:inputTextarea type="text" value="#{personUpdate.description}"
			class="form-control" id="inputDescription"
			placeholder="Describe you in few words" maxlength="200" />


		<label for="inputWebsite">Website</label>
		<p:inputText type="text" value="#{personUpdate.webSite}"
			class="form-control" id="inputWebsite" placeholder="Website" />


		<div>
			<p:commandButton class="signup" value="Save"
				action="#{personView.edit()}" update="personInformations"
				icon="fa fa-check" onclick="PF('personDialog').hide()">
			</p:commandButton>
		</div>

	</h:form>
</p:dialog>

<p:dialog header="Add Person" widgetVar="addPersonDialog" modal="true"
	resizable="false" responsive="true" draggable="false" width="50%">
	<ui:include src="/template/signup.xhtml"></ui:include>
</p:dialog>

<p:dialog header="Confirm delete" widgetVar="confirmDeleteDialog"
	modal="true" resizable="false" responsive="true" draggable="false">
	<h:form>
		<p:commandButton ajax="false" value="Confirm"
			action="#{personView.delete()}">
		</p:commandButton>
		<p:commandButton value="Cancel"
			action="PF('confirmDeleteDialog').hide()">
		</p:commandButton>
	</h:form>

</p:dialog>

</html>